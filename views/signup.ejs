<!-- signup.ejs -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/styles/main.css">
  <title>Sign Up</title>
</head>

<body>
  <h1>Sign Up</h1>
  <!-- Sign-up form goes here -->
  <form id="signupForm" action="/sign-up" method="POST">
    <label for="fullName">Full Name:</label>
    <input type="text" id="fullName" name="fullName" required aria-label="Enter your full name">

    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required aria-label="Enter your email address">

    <label for="password">Password:</label>
    <input type="password" id="password" name="password" required aria-label="Enter your password">

    <label for="reEnterPassword">Re-enter Password:</label>
    <input type="password" id="reEnterPassword" name="reEnterPassword" required aria-label="Re-enter your password">

    <button type="submit">Sign Up</button>
  </form>
  <a href="/">Already have an account? Sign in here</a>

  <script>
    const signupForm = document.getElementById('signupForm');

    signupForm.addEventListener('submit', (event) => {
      event.preventDefault();

      const fullNameInput = document.getElementById('fullName');
      const emailInput = document.getElementById('email');
      const passwordInput = document.getElementById('password');
      const reEnterPasswordInput = document.getElementById('reEnterPassword');

      const fullName = fullNameInput.value.trim();
      const email = emailInput.value.trim();
      const password = passwordInput.value.trim();
      const reEnterPassword = reEnterPasswordInput.value.trim();

      if (!fullName) {
        alert('Please enter your full name');
        return;
      }

      if (!email || !isValidEmail(email)) {
        alert('Please provide a valid email address');
        return;
      }

      if (!password || password.length < 8) {
        alert('Password must be at least 8 characters long');
        return;
      }

      if (password !== reEnterPassword) {
        alert('Passwords do not match');
        return;
      }

      // Submit the form data
      signupForm.submit();
    });

    function isValidEmail(email) {
      const emailRegex = /^(([^<>()[\]\\.,;:\s@"]+)@([a-zA-Z0-9\-\.]+)\.([a-zA-Z]{2,}))$/;
      return emailRegex.test(email);
    }
  </script>
</body>

</html>
